---
name: "MCP 工具集成专家"
description: "集成 Model Context Protocol (MCP) 工具，通过 HTTP 连接与外部 MCP 服务交互，提供参数管理、工单生成等功能。"
---

# Execution Instructions

## 基本说明

MCP (Model Context Protocol) 工具集成技能，允许智能体通过 HTTP 协议连接到外部 MCP 服务，并使用服务提供的工具。

## 使用前提

1. **MCP 服务运行**: 确保 MCP 服务已启动并运行在配置的 URL 上（默认：`http://localhost:9014/mcp`）
2. **服务可用性**: 在加载此技能前，系统会尝试连接 MCP 服务，如果服务不可用，将使用占位工具

## 可用工具

加载此技能后，MCP 服务提供的所有工具将自动添加到智能体的工具列表中。具体可用的工具取决于 MCP 服务的配置。

常见的 MCP 工具包括：
- 参数查询和管理
- 工单生成和管理
- 数据查询和分析
- 其他自定义工具

## 使用流程

1. **加载技能**: 调用 `skill_load("mcp_integration")` 加载 MCP 集成技能
2. **检查可用工具**: MCP 服务提供的工具将自动挂载到智能体
3. **使用工具**: 根据用户需求，直接调用 MCP 工具
4. **处理结果**: 工具调用结果将自动返回给智能体

## 配置

MCP 服务的 URL 可以通过环境变量 `MCP_URL` 配置，默认值为 `http://localhost:9014/mcp`。

## 错误处理

- 如果 MCP 服务不可用，将使用占位工具，返回友好的错误提示
- 工具调用失败时，会返回详细的错误信息
- 连接超时时间设置为 300 秒

## 注意事项

1. **服务依赖**: 此技能依赖于外部 MCP 服务，确保服务正常运行
2. **网络连接**: 确保能够访问 MCP 服务的 URL
3. **工具命名**: MCP 工具的名称由服务定义，可能与本地工具名称冲突（系统会自动处理）

## 示例

**用户问题**: "查看工单 HN-HN-20251222-1627 的参数修改记录"

**执行流程**:
```
1. 加载技能: skill_load("mcp_integration")
2. 调用 MCP 工具: [MCP工具名称](order_id="HN-HN-20251222-1627")
3. 返回结果: 显示工单的参数修改记录
```

**用户问题**: "生成参数修改草稿: 460-00-538402-107 参数组为M10 4-5迟滞修改为-11"

**执行流程**:
```
1. 确保技能已加载
2. 调用 MCP 工单生成工具，传入参数信息
3. 返回生成的草稿内容
```

